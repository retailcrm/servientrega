# Сервис интеграции со службой доставки Servientrega

## Развертывание на локальной машине
* Создать на основе файла `.env` файл `.env.local` (при использовании докер окружения `DATABASE_URL=postgresql://servientrega:servientrega@postgres:5432/servientrega?charset=utf8`)
* Скопировать файл  `.netrc.dist` с именем `.netrc` в корне проекта, где `<password>` - токен gitlab аккаунта.

```
.netrc

machine gitlab.skillum.ru
username <user>
password <password>
```

* Запустить `make up`

    Команда запустит контейнеры с `nginx`, `php-fpm`, `postgres`, `nodejs`, при этом в процессе запуска контейнеров создадутся вспомогательные файлы, подтянутся зависимости и выполнятся миграции

    В контейнере с `nodejs` будет запущена горячая сборка статики (при изменении файлов статика будет пересобираться)

    При добавлении новых методов api (для использования именованных route), необходимо `app` контейнере запустить команду `make js_routing` (или просто перезапустить контейнеры через `ctrl+c` `make up` на хост машине)
